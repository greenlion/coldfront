#
# Test RAPID DECIMAL type support
#
CREATE TABLE t1 (
id INT PRIMARY KEY,
price DECIMAL(10,2),
rate DECIMAL(5,4),
big_decimal DECIMAL(20,6)
) SECONDARY_ENGINE RAPID;
ALTER TABLE t1 SECONDARY_LOAD;
INSERT INTO t1 VALUES 
(1, 123.45, 0.0525, 123456.789012),
(2, -999.99, -1.2345, -987654.321098),
(3, 0.01, 0.0001, 0.000001);
# Wait for binlog replication
SET SESSION secondary_engine_cost_threshold = 0;
SELECT * FROM t1 ORDER BY id;
id	price	rate	big_decimal
1	123.45	0.0525	123456.789012
2	-999.99	-1.2345	-987654.321098
3	0.01	0.0001	0.000001
SELECT id, price FROM t1 WHERE price > 100 ORDER BY id;
id	price
1	123.45
SELECT SUM(price) FROM t1;
SUM(price)
-876.53
ALTER TABLE t1 SECONDARY_UNLOAD;
DROP TABLE t1;
